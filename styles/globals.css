@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for easy theme customization */
:root {
  /* Let UA elements follow dark theme */
  color-scheme: dark;
  
  /* Base colors - Dark Mode */
  --color-bg: #0C0F15;
  --color-text: rgba(255, 255, 255, 0.9);
  --color-text-secondary: rgba(255, 255, 255, 0.65);
  
  /* Accent colors - adjust here to change entire theme */
  --color-accent-indigo: #6366f1;
  --color-accent-teal: #2dd4bf;
  --color-accent-rose: #f43f5e;
  
  /* Gradient positions and intensities */
  --gradient-blob-1: radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.15) 0%, transparent 50%);
  --gradient-blob-2: radial-gradient(circle at 80% 70%, rgba(45, 212, 191, 0.12) 0%, transparent 50%);
  --gradient-blob-3: radial-gradient(circle at 50% 50%, rgba(244, 63, 94, 0.08) 0%, transparent 60%);
  
  /* Focus ring */
  --focus-ring: 0 0 0 3px rgba(99, 102, 241, 0.5);
  
  /* Mobile Menu - Premium Glass Tokens */
  --bg: #0a0a0a;
  --fg: #e5e7eb;
  --card: rgba(17, 24, 39, 0.72);
  --card-border: rgba(255, 255, 255, 0.10);
  --accent: #10b981;
}

/* Light mode removed for performance and simplicity - dark mode only */

/* Nav Performance Optimization - Move expensive properties to CSS */
.nav-pill {
  border-radius: 1.5rem;
  isolation: isolate;
  transition: backdrop-filter 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
}

.nav-pill.scrolled {
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  background-color: rgba(10, 10, 12, 0.4);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

/* Mobile Header States */
.mobile-header-pill {
  border-radius: 1.5rem;
  isolation: isolate;
  transition: backdrop-filter 0.4s ease, background-color 0.4s ease, box-shadow 0.4s ease;
}

.mobile-header-pill.visible {
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  background-color: rgba(10, 10, 12, 0.4);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

.mobile-header-pill.menu-open {
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  background-color: rgba(10, 10, 20, 0.75);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

@layer base {
  html {
    @apply scroll-smooth overflow-x-hidden;
  }
  
  body {
    @apply text-brand-text antialiased overflow-x-hidden;
    background-color: #0C0F15;
  }
  
  /* Prevent flash of unstyled content */
  html, body {
    visibility: visible;
  }
  
  /* Prevent layout shift during hydration */
  .prevent-flash {
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }
  
  .prevent-flash.mounted {
    opacity: 1;
  }
  
  /* Theme-aware default border color */
  *, ::before, ::after {
    border-color: var(--card-border);
  }
  
  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-brand-accent-indigo ring-offset-2 ring-offset-brand-bg rounded;
  }
  
  /* Reduced motion support - media query baseline */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Reduced motion toggle parity with Footer */
  .reduce-motion *, .reduce-motion *::before, .reduce-motion *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@layer components {
  /* Glassmorphism utility */
  .glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }
  
  /* Frosted navigation */
  .nav-glass {
    @apply bg-brand-bg/80 backdrop-blur-md border-b border-white/5;
  }
  
  /* Glow effects */
  .glow-indigo {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3),
                0 0 40px rgba(99, 102, 241, 0.15);
  }
  
  .glow-teal {
    box-shadow: 0 0 20px rgba(45, 212, 191, 0.3),
                0 0 40px rgba(45, 212, 191, 0.15);
  }
  
  .glow-rose {
    box-shadow: 0 0 20px rgba(244, 63, 94, 0.3),
                0 0 40px rgba(244, 63, 94, 0.15);
  }
  
  /* Button styles */
  .btn-primary {
    @apply px-6 py-3 rounded-lg bg-brand-accent-indigo hover:bg-brand-accent-indigo/90 
           text-white font-medium transition-all duration-200 
           hover:glow-indigo focus:glow-indigo;
  }
  
  .btn-secondary {
    @apply px-6 py-3 rounded-lg glass hover:bg-white/10 
           text-brand-text font-medium transition-all duration-200;
  }
  
  /* Card styles */
  .card {
    @apply glass rounded-2xl p-6 transition-all duration-300 
           hover:bg-white/[0.08] hover:border-white/20;
  }
  
  /* Container */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
}

@layer utilities {
  /* Text gradient utilities */
  .text-gradient-indigo {
    @apply bg-gradient-to-r from-indigo-400 to-indigo-600 bg-clip-text text-transparent;
  }
  
  .text-gradient-teal {
    @apply bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent;
  }
  
  .text-gradient-multi {
    @apply bg-gradient-to-r from-indigo-400 via-teal-400 to-rose-400 bg-clip-text text-transparent;
  }
  
  /* Bar growth animation */
  .bar-grow-animation {
    animation: bar-grow 1s ease-out forwards;
    transform-origin: bottom;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  
  @keyframes bar-grow {
    0% {
      transform: scaleY(0) translateZ(0);
      opacity: 0;
    }
    100% {
      transform: scaleY(1) translateZ(0);
      opacity: 1;
    }
  }

  /* Landing page animations */
  .typewriter {
    animation: fadeIn 1.2s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .slide-in-right {
    animation: slideInRight 1s ease-out forwards;
    opacity: 0;
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(50px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  /* Brand glow animation - GPU accelerated letter by letter */
  .brand-glow-letter {
    animation: brandGlowLetter 0.8s ease-out forwards;
    animation-delay: inherit;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
  }

  @keyframes brandGlowLetter {
    0% {
      color: inherit;
      text-shadow: none;
      transform: translateZ(0) scale(1);
    }
    30% {
      color: rgb(52, 211, 153);
      text-shadow: 
        0 0 12px rgba(52, 211, 153, 0.9),
        0 0 24px rgba(52, 211, 153, 0.7),
        0 0 36px rgba(52, 211, 153, 0.5),
        0 0 48px rgba(52, 211, 153, 0.3);
      transform: translateZ(0) scale(1.05);
    }
    100% {
      color: rgb(45, 212, 191);
      text-shadow: 
        0 0 10px rgba(45, 212, 191, 0.7),
        0 0 20px rgba(45, 212, 191, 0.5),
        0 0 30px rgba(45, 212, 191, 0.3);
      transform: translateZ(0) scale(1);
    }
  }

  /* Spotlight effect - subtle neon for wordmark */
  .neon-emerald { 
    text-shadow: 0 0 20px rgba(16,185,129,.35), 0 0 40px rgba(20,184,166,.25); 
  }

  /* Hero grain to avoid gradient banding */
  .hero-noise { 
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.035'/></svg>"); 
  }

  /* Hide scrollbar while maintaining scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
  }

  /* Smooth theme transition (GPU-friendly) */
  /* Scoped theme transitions - only on elements that change color */
  [data-tc] {
    transition: color .45s cubic-bezier(.22,.8,.22,1),
                background-color .45s cubic-bezier(.22,.8,.22,1),
                border-color .45s cubic-bezier(.22,.8,.22,1),
                fill .45s cubic-bezier(.22,.8,.22,1),
                stroke .45s cubic-bezier(.22,.8,.22,1);
  }

  @media (prefers-reduced-motion: reduce) { 
    [data-tc] { 
      transition: none !important; 
    } 
  }

  /* ==================== Premium Device Mockup ==================== */
  
  /* Soft table shadow for 3D depth */
  .phone-shadow {
    background: radial-gradient(40% 20% at 50% 60%, rgba(0,0,0,.45), transparent 70%);
  }

  /* Metal sheen for iPhone rim - mimics stainless steel/aluminum */
  .metal-sheen {
    background: conic-gradient(
      from 220deg,
      #0d0f12, #1b1f24 12%,
      #0c0f13 18%, #262c33 30%,
      #0d1116 45%, #0a0c10 60%,
      #2a3139 78%, #0b0e12 92%, #0d0f12
    );
  }

  /* Glass reflection layer - animates with tilt */
  .glass-reflection {
    pointer-events: none;
    mix-blend-mode: screen;
    background:
      linear-gradient( 18deg, rgba(255,255,255,.08), rgba(255,255,255,0) 40%),
      linear-gradient(-12deg, rgba(180,230,255,.05), rgba(255,255,255,0) 55%);
    filter: blur(0.3px);
  }

  /* Edge vignette for ambient occlusion */
  .edge-vignette {
    mask-image: radial-gradient(120% 120% at 50% 50%, #000 60%, transparent 100%);
    -webkit-mask-image: radial-gradient(120% 120% at 50% 50%, #000 60%, transparent 100%);
  }

  /* ==================== Personal Coach Section ==================== */
  
  /* Floating animation for CTA elements */
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  /* Pulse glow animation */
  @keyframes pulseGlow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(45, 212, 191, 0.3),
                  0 0 40px rgba(45, 212, 191, 0.15);
    }
    50% {
      box-shadow: 0 0 30px rgba(45, 212, 191, 0.5),
                  0 0 60px rgba(45, 212, 191, 0.25);
    }
  }
  
  /* Shimmer effect for text */
  @keyframes shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .animate-pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }
}


